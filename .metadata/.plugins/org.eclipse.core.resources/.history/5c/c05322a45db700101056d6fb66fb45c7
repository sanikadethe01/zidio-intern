package com.zidio.service;
import org.springframework.stereotype.Service;
import com.zidio.repository.UserRepository;
import com.zidio.model.User;
import java.util.Optional;
import lombok.RequiredArgsConstructor;

@Service
@RequiredArgsConstructor
public class UserService {
  private final UserRepository userRepository;

  public User register(User u) {
    // In production: check duplicates, hash password
    return userRepository.save(u);
  }

  public Optional<User> login(String email, String password) {
    Optional<User> found = userRepository.findByEmail(email);
    if (found.isPresent() && found.get().getPassword().equals(password)) {
      return found;
    }
    return Optional.empty();
  }
}
